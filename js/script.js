const deckFull = [
    card00 = {
        nome: 'Monkey D. Luffy',
        figura: '<img src="image/card-00.png" alt="Card">',
        forca: 95,
        hp: 70,
        resistencia: 60,
        velocidade: 75,
        haki: 80
    },
    card01 = {
        nome: 'Roronoa Zoro',
        figura: '<img src="image/card-01.png" alt="Card">',
        forca: 85,
        hp: 90,
        resistencia: 75,
        velocidade: 70,
        haki: 70 
    },
    card02 = {
        nome: 'Nami',
        figura: '<img src="image/card-02.png" alt="Card">',
        forca: 90,
        hp: 40,
        resistencia: 40,
        velocidade: 60,
        haki: 30
    },
    card03 = {
        nome: 'Usopp',
        figura: '<img src="image/card-03.png" alt="Card">',
        forca: 50,
        hp: 60,
        resistencia: 50,
        velocidade: 85,
        haki: 60
    },
    card04 = {
        nome: 'Sanji',
        figura: '<img src="image/card-04.png" alt="Card">',
        forca: 80,
        hp: 70,
        resistencia: 60,
        velocidade: 90,
        haki: 65
    },
    card05 = {
        nome: 'Tony Tony Chopper',
        figura: '<img src="image/card-05.png" alt="Card">',
        forca: 45,
        hp: 75,
        resistencia: 90,
        velocidade: 80,
        haki: 30
    },
    card06 = {
        nome: 'Nico Robin',
        figura: '<img src="image/card-06.png" alt="Card">',
        forca: 60,
        hp: 70,
        resistencia: 80,
        velocidade: 75,
        haki: 35
    },
    card07 = {
        nome: 'Franky',
        figura: '<img src="image/card-07.png" alt="Card">',
        forca: 60,
        hp: 60,
        resistencia: 90,
        velocidade: 80,
        haki: 30
    },
    card08 = {
        nome: 'Brook',
        figura: '<img src="image/card-08.png" alt="Card">',
        forca: 65,
        hp: 95,
        resistencia: 75,
        velocidade: 85,
        haki: 60
    },
    card09 = {
        nome: 'Jinbe',
        figura: '<img src="image/card-09.png" alt="Card">',
        forca: 80,
        hp: 80,
        resistencia: 85,
        velocidade: 40,
        haki: 75
    },
    card10 = {
        nome: 'Dracule Mihawk',
        figura: '<img src="image/card-10.png" alt="Card">',
        forca: 90,
        hp: 70,
        resistencia: 75,
        velocidade: 90,
        haki: 100
    },
    card11 = {
        nome: 'Shanks',
        figura: '<img src="image/card-11.png" alt="Card">',
        forca: 95,
        hp: 70,
        resistencia: 80,
        velocidade: 80,
        haki: 100
    },
    card12 = {
        nome: 'Marco',
        figura: '<img src="image/card-12.png" alt="Card">',
        forca: 70,
        hp: 100,
        resistencia: 90,
        velocidade: 75,
        haki: 70
    },
    card13 = {
        nome: 'Portgas D. Ace',
        figura: '<img src="image/card-13.png" alt="Card">',
        forca: 90,
        hp: 85,
        resistencia: 80,
        velocidade: 70,
        haki: 70
    },
    card14 = {
        nome: 'Buggy',
        figura: '<img src="image/card-14.png" alt="Card">',
        forca: 50,
        hp: 50,
        resistencia: 80,
        velocidade: 40,
        haki: 10
    },
    card15 = {
        nome: 'Charlotte Katakuri',
        figura: '<img src="image/card-15.png" alt="Card">',
        forca: 85,
        hp: 80,
        resistencia: 80,
        velocidade: 90,
        haki: 90
    },
    card16 = {
        nome: 'Water D. Law',
        figura: '<img src="image/card-16.png" alt="Card">',
        forca: 70,
        hp: 60,
        resistencia: 50,
        velocidade: 80,
        haki: 65
    },
    card17 = {
        nome: 'Bartolomeo',
        figura: '<img src="image/card-17.png" alt="Card">',
        forca: 50,
        hp: 65,
        resistencia: 85,
        velocidade: 40,
        haki: 35
    },
    card18 = {
        nome: 'Bartolomew Kuma',
        figura: '<img src="image/card-18.png" alt="Card">',
        forca: 90,
        hp: 80,
        resistencia: 70,
        velocidade: 75,
        haki: 75
    },
    card19 = {
        nome: 'Bon Clay',
        figura: '<img src="image/card-19.png" alt="Card">',
        forca: 65,
        hp: 70,
        resistencia: 75,
        velocidade: 80,
        haki: 30
    },
    card20 = {
        nome: 'Boa Hancock',
        figura: '<img src="image/card-20.png" alt="Card">',
        forca: 75,
        hp: 70,
        resistencia: 75,
        velocidade: 80,
        haki: 75
    },
    card21 = {
        nome: 'Capone Gang Bege',
        figura: '<img src="image/card-21.png" alt="Card">',
        forca: 50,
        hp: 50,
        resistencia: 90,
        velocidade: 30,
        haki: 25
    },
    card22 = {
        nome: 'Eustass Kid',
        figura: '<img src="image/card-22.png" alt="Card">',
        forca: 80,
        hp: 80,
        resistencia: 85,
        velocidade: 65,
        haki: 50
    },
    card23 = {
        nome: 'Jozu',
        figura: '<img src="image/card-23.png" alt="Card">',
        forca: 60,
        hp: 70,
        resistencia: 100,
        velocidade: 40,
        haki: 40
    },
    card24 = {
        nome: 'Jack',
        figura: '<img src="image/card-24.png" alt="Card">',
        forca: 80,
        hp: 90,
        resistencia: 90,
        velocidade: 60,
        haki: 45
    },
    card25 = {
        nome: 'Killer',
        figura: '<img src="image/card-25.png" alt="Card">',
        forca: 85,
        hp: 60,
        resistencia: 50,
        velocidade: 85,
        haki: 45
    },
    card26 = {
        nome: 'Niji',
        figura: '<img src="image/card-26.png" alt="Card">',
        forca: 55,
        hp: 50,
        resistencia: 40,
        velocidade: 95,
        haki: 25
    },
    card27 = {
        nome: 'Reiju',
        figura: '<img src="image/card-27.png" alt="Card">',
        forca: 30,
        hp: 95,
        resistencia: 60,
        velocidade: 50,
        haki: 25
    },
    card28 = {
        nome: 'Sakazuki Akainu',
        figura: '<img src="image/card-28.png" alt="Card">',
        forca: 95,
        hp: 80,
        resistencia: 90,
        velocidade: 70,
        haki: 90
    },
    card29 = {
        nome: 'Kaido',
        figura: '<img src="image/card-29.png" alt="Card">',
        forca: 90,
        hp: 80,
        resistencia: 100,
        velocidade: 50,
        haki: 85
    },
    card30 = {
        nome: 'Edward Newgate',
        figura: '<img src="image/card-30.png" alt="Card">',
        forca: 95,
        hp: 95,
        resistencia: 90,
        velocidade: 75,
        haki: 95
    },
    card31 = {
        nome: 'Gol D. Roger',
        figura: '<img src="image/card-31.png" alt="Card">',
        forca: 100,
        hp: 80,
        resistencia: 80,
        velocidade: 80,
        haki: 100
    },
];

const deckEmbaralhado = embaralhaCartas(deckFull);
const deckPlayer1 = deckEmbaralhado.slice(0, 16);
const deckPlayer2 = deckEmbaralhado.slice(16, 32);
console.log(deckPlayer1);
console.log(deckPlayer2);

function embaralhaCartas(deck) { 
    for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
    }
    return deck;
    //https://www.horadecodar.com.br/2021/05/10/como-embaralhar-um-array-em-javascript-shuffle/
}

function atualizaDecks() {
    let deckP1 = document.querySelector('#deck1-cards');
    deckP1.innerHTML = `${deckPlayer1.length}`;
    let deckP2 = document.querySelector('#deck2-cards');
    deckP2.innerHTML = `${deckPlayer2.length}`;
}

function montaCartas () {
    //monta carta do player 1
    let nomeP1 = document.querySelector('#nomeP1');
    let figuraP1 = document.querySelector('#figuraP1')
    let forcaP1 = document.querySelector('#forcaP1');
    let hpP1 = document.querySelector('#hpP1');
    let resistenciaP1 = document.querySelector('#resistenciaP1');
    let velocidadeP1 = document.querySelector('#velocidadeP1');
    let hakiP1 = document.querySelector('#hakiP1');

    nomeP1.innerHTML = `${deckPlayer1[0].nome}`;
    figuraP1.innerHTML = `${deckPlayer1[0].figura}`;
    forcaP1.innerHTML = `${deckPlayer1[0].forca}`;
    hpP1.innerHTML = `${deckPlayer1[0].hp}`;
    resistenciaP1.innerHTML = `${deckPlayer1[0].resistencia}`;
    velocidadeP1.innerHTML = `${deckPlayer1[0].velocidade}`;
    hakiP1.innerHTML = `${deckPlayer1[0].haki}`;

    //monta carta do player 2 ???
    let nomeP2 = document.querySelector('#nomeP2');
    let figuraP2 = document.querySelector('#figuraP2');
    let forcaP2 = document.querySelector('#forcaP2');
    let hpP2 = document.querySelector('#hpP2');
    let resistenciaP2 = document.querySelector('#resistenciaP2');
    let velocidadeP2 = document.querySelector('#velocidadeP2');
    let hakiP2 = document.querySelector('#hakiP2');

    nomeP2.innerHTML = `???`;
    figuraP2.innerHTML = `<img src="image/token.png" alt="Card">`;
    forcaP2.innerHTML = `???`;
    hpP2.innerHTML = `???`;
    resistenciaP2.innerHTML = `???`;
    velocidadeP2.innerHTML = `???`;
    hakiP2.innerHTML = `???`;

    const resultado = document.querySelector('#resultado-turno');
    resultado.innerHTML = `Escolha um atributo`;

};

function montaCartaCpu () {
    nomeP2.innerHTML = `${deckPlayer2[0].nome}`;
    figuraP2.innerHTML = `${deckPlayer2[0].figura}`
    forcaP2.innerHTML = `${deckPlayer2[0].forca}`;
    hpP2.innerHTML = `${deckPlayer2[0].hp}`;
    resistenciaP2.innerHTML = `${deckPlayer2[0].resistencia}`;
    velocidadeP2.innerHTML = `${deckPlayer2[0].velocidade}`;
    hakiP2.innerHTML = `${deckPlayer2[0].haki}`;
}

montaCartas();

function comparaAtributos(atrP1, atrP2) {

    montaCartaCpu();

    const atr = document.getElementsByName('rad-atributo');

    if (atr[0].checked) {
        atrP1 = deckPlayer1[0].forca;
        atrP2 = deckPlayer2[0].forca;
    } else if (atr[1].checked) {
        atrP1 = deckPlayer1[0].hp;
        atrP2 = deckPlayer2[0].hp;
    } else if (atr[2].checked) {
        atrP1 = deckPlayer1[0].resistencia;
        atrP2 = deckPlayer2[0].resistencia;
    } else if (atr[3].checked) {
        atrP1 = deckPlayer1[0].velocidade;
        atrP2 = deckPlayer2[0].velocidade;
    } else if (atr[4].checked) {
        atrP1 = deckPlayer1[0].haki;
        atrP2 = deckPlayer2[0].haki;
    }

    const resultado = document.querySelector('#resultado-turno')

    if (atrP1 > atrP2) {
        deckPlayer1.push(deckPlayer2.shift());
        deckPlayer1.push(deckPlayer1.shift());
        resultado.innerHTML = `P1 VENCEU`;
    } else if (atrP2 > atrP1) {
        deckPlayer2.push(deckPlayer1.shift());
        deckPlayer2.push(deckPlayer2.shift());
        resultado.innerHTML = `CPU VENCEU`;
    } else {
        deckPlayer1.push(deckPlayer1.shift());
        deckPlayer2.push(deckPlayer2.shift());
        resultado.innerHTML = `EMPATOU`;
    }
    
    // setTimeout(montaCartaCpu, 1000);
    setTimeout(montaCartas, 2600);
    atualizaDecks();
}